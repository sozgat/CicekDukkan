<html>
	<head>
		<script type="text/javascript" src="https://api-maps.yandex.ru/2.1/?lang=en_RU&amp;apikey=da4ceae1-8f53-4c26-ae65-16e7e738fedd">
		function getOrderArray()
		{
			orderArray = document.OrderApplet.getOrders();

			alert("There are " + orderArray.length + " orders.");
		}
		ymaps.ready(init);

		function init() 
		{
			getOrderArray();
		    var myMap = new ymaps.Map("map", {
		            center: [41.051883, 29.007060],
		            zoom: 13
		        }, {
		            searchControlProvider: 'yandex#search'
		        }),

		    // Creating a geo object with the "Point" geometry type.
		        myGeoObject = new ymaps.GeoObject({ }, {})
		        myMap.geoObjects


		        for(var i=0; i<orderArray.length; i++)
		        {
			        var order = orderArray[i];
			        .add(new ymaps.Placemark([order["latitude"], order["longitude"]],
			        {
			        	balloonContent: order["orderId"],
			            iconCaption: order["orderId"]
			        },
			        {
			        	preset: 'islands#blueCircleDotIconWithCaption',
			            iconColor: '#ffff00'
			        }
			        ))
		    	}
		    	;

/*
		        .add(new ymaps.Placemark([41.049792, 28.99846], {
		            balloonContent: 'OrderId:1',
		            iconCaption: 'OrderId:1'
		        }, {
		        	preset: 'islands#blueCircleDotIconWithCaption',
		            iconColor: '#2802ff'
		        }))
		        
		        .add(new ymaps.Placemark([41.08368, 29.01499], {
		            balloonContent: 'OrderId:2',
		            iconCaption: 'OrderId:2'
		        }, {
		        	preset: 'islands#blueCircleDotIconWithCaption',
		            iconColor: '#ff0000'
		        }))
		        
		        .add(new ymaps.Placemark([41.05695, 29.01231], {
		            balloonContent: 'OrderId:3',
		            iconCaption: 'OrderId:3'
		        }, {
		        	preset: 'islands#blueCircleDotIconWithCaption',
		            iconColor: '#ffff00'
		        }))
		        
		        	.add(new ymaps.Placemark([41.04695, 29.01231], {
		            balloonContent: 'OrderId:4',
		            iconCaption: 'OrderId:4'
		        }, {
		        	preset: 'islands#blueCircleDotIconWithCaption',
		            iconColor: '#2aff00'
		        }))
		        ;
*/
		}

	html, body, #map 
	{
        width: 100%; height: 100%; padding: 0; margin: 0;
    }
	</script>
	</head>
	<body>
		<div id="map">
		</div>

		<applet code="ArrayToJS.class" name="OrderApplet" height="0" width="0">
		</applet>
	</body>
</html>